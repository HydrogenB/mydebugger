import{g as F,j as e,b as $,C as E,B as u,L as z}from"./index-03788e60.js";import{r as s}from"./react-e68835f7.js";import{H as G}from"./vendor-975fbbe6.js";import"./TabGroup-60a1a443.js";import"./Modal-efe9865f.js";const Z=()=>{const H=F("/link-tracer"),[m,U]=s.useState(""),[a,f]=s.useState(null),[l,j]=s.useState(!1),[w,h]=s.useState(null),[p,A]=s.useState(!1),[x,v]=s.useState("HEAD"),[n,N]=s.useState("default"),[g,C]=s.useState(""),[o,T]=s.useState(20),[L,S]=s.useState(null),i=s.useRef(null),O=[{label:"Default",value:"default"},{label:"Chrome (Desktop)",value:"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/91.0.4472.124 Safari/537.36"},{label:"Safari (iOS)",value:"Mozilla/5.0 (iPhone; CPU iPhone OS 14_6 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/14.0 Mobile/15E148 Safari/604.1"},{label:"Firefox",value:"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:89.0) Gecko/20100101 Firefox/89.0"},{label:"Google Bot",value:"Mozilla/5.0 (compatible; Googlebot/2.1; +http://www.google.com/bot.html)"},{label:"Custom",value:"custom"}],P=["HEAD","GET","OPTIONS"];s.useEffect(()=>{try{const r=localStorage.getItem("linkTracerPrefs");if(r){const t=JSON.parse(r);t.method&&v(t.method),t.userAgent&&N(t.userAgent),t.customUserAgent&&C(t.customUserAgent),t.maxHops&&T(t.maxHops)}}catch(r){console.error("Error loading Link Tracer preferences:",r)}},[]),s.useEffect(()=>{try{localStorage.setItem("linkTracerPrefs",JSON.stringify({method:x,userAgent:n,customUserAgent:g,maxHops:o}))}catch(r){console.error("Error saving Link Tracer preferences:",r)}},[x,n,g,o]);const M=async()=>{if(!m){h("Please enter a URL");return}j(!0),h(null),f(null);try{let r="MyDebugger-LinkTracer/1.0";n==="custom"?r=g||r:n!=="default"&&(r=n);const t=await fetch("/api/link-trace",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({url:m,method:x,userAgent:r,maxHops:o})});if(!t.ok){const d=await t.json();throw new Error(d.error||`Request failed with status ${t.status}`)}const k=await t.json();f(k)}catch(r){h(`Error tracing URL: ${r instanceof Error?r.message:"Unknown error"}`)}finally{j(!1)}},V=r=>{r.key==="Enter"&&M()},W=()=>{a&&(navigator.clipboard.writeText(JSON.stringify(a,null,2)),R("JSON copied to clipboard!"))},D=()=>{if(!a)return;let r=`Hop,Status,Method,URL,Latency (ms)
`;a.hops.forEach(c=>{r+=`${c.n},${c.status},${c.method},"${c.url}",${c.latencyMs}
`});const t=new Blob([r],{type:"text/csv"}),k=URL.createObjectURL(t),d=document.createElement("a");d.setAttribute("hidden",""),d.setAttribute("href",k),d.setAttribute("download","redirect-trace.csv"),document.body.appendChild(d),d.click(),document.body.removeChild(d),R("CSV file downloaded!")},R=r=>{S(r),i.current&&window.clearTimeout(i.current),i.current=window.setTimeout(()=>{S(null)},3e3)};s.useEffect(()=>()=>{i.current&&window.clearTimeout(i.current)},[]);const B=r=>r>=200&&r<300?"bg-green-100 dark:bg-green-900 text-green-800 dark:text-green-200":r>=300&&r<400?"bg-blue-100 dark:bg-blue-900 text-blue-800 dark:text-blue-200":r>=400&&r<500?"bg-orange-100 dark:bg-orange-900 text-orange-800 dark:text-orange-200":r>=500?"bg-red-100 dark:bg-red-900 text-red-800 dark:text-red-200":"bg-gray-100 dark:bg-gray-800 text-gray-800 dark:text-gray-200",y="URL Redirect Checker | MyDebugger",b="Trace the complete redirect path of any URL, including status codes, latency and security warnings.";return e.jsxs($,{tool:H,children:[e.jsxs(G,{children:[e.jsx("title",{children:y}),e.jsx("meta",{name:"description",content:b}),e.jsx("meta",{property:"og:title",content:y}),e.jsx("meta",{property:"og:description",content:b}),e.jsx("meta",{property:"og:type",content:"website"}),e.jsx("meta",{property:"og:url",content:"https://mydebugger.vercel.app/link-tracer"}),e.jsx("meta",{name:"twitter:card",content:"summary"}),e.jsx("meta",{name:"twitter:title",content:y}),e.jsx("meta",{name:"twitter:description",content:b}),e.jsx("link",{rel:"canonical",href:"https://mydebugger.vercel.app/link-tracer"})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsx(E,{isElevated:!0,children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"url-input",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Enter URL to trace redirects"}),e.jsxs("div",{className:"flex",children:[e.jsx("input",{id:"url-input",type:"text",className:"flex-grow rounded-l-md border-gray-300 dark:border-gray-700 dark:bg-gray-800 dark:text-white shadow-sm focus:border-primary-500 focus:ring focus:ring-primary-200 dark:focus:ring-primary-900 focus:ring-opacity-50",placeholder:"https://bit.ly/example",value:m,onChange:r=>U(r.target.value),onKeyPress:V,disabled:l}),e.jsx(u,{onClick:M,isLoading:l,disabled:l||!m,className:"rounded-l-none",children:"Trace URL"})]}),e.jsx("p",{className:"mt-2 text-sm text-gray-500 dark:text-gray-400",children:"Enter any URL to trace its complete redirect path, including shortened URLs."})]}),e.jsxs("div",{children:[e.jsxs("button",{onClick:()=>A(!p),className:"text-sm text-gray-600 dark:text-gray-400 hover:text-gray-800 dark:hover:text-gray-200 flex items-center focus:outline-none",children:[e.jsx("svg",{className:`h-4 w-4 mr-1 transition-transform ${p?"transform rotate-90":""}`,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})}),"Advanced Options"]}),p&&e.jsx("div",{className:"mt-3 p-4 bg-gray-50 dark:bg-gray-800 rounded-md border border-gray-200 dark:border-gray-700",children:e.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"http-method",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"HTTP Method"}),e.jsx("div",{className:"flex space-x-3",children:P.map(r=>e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"radio",name:"http-method",value:r,checked:x===r,onChange:()=>v(r),className:"h-4 w-4 text-primary-600 focus:ring-primary-500"}),e.jsx("span",{className:"ml-2 text-sm text-gray-700 dark:text-gray-300",children:r})]},r))})]}),e.jsxs("div",{children:[e.jsxs("label",{htmlFor:"max-hops",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:["Max Redirects: ",o]}),e.jsx("input",{id:"max-hops",type:"range",min:"1",max:"30",value:o,onChange:r=>T(parseInt(r.target.value)),className:"w-full"})]}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("label",{htmlFor:"user-agent",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"User Agent"}),e.jsx("select",{id:"user-agent",value:n,onChange:r=>N(r.target.value),className:"block w-full rounded-md border-gray-300 dark:border-gray-700 dark:bg-gray-800 dark:text-white shadow-sm focus:border-primary-500 focus:ring focus:ring-primary-500 text-sm",children:O.map(r=>e.jsx("option",{value:r.value,children:r.label},r.value))}),n==="custom"&&e.jsx("input",{type:"text",value:g,onChange:r=>C(r.target.value),placeholder:"Enter custom User-Agent string",className:"mt-2 block w-full rounded-md border-gray-300 dark:border-gray-700 dark:bg-gray-800 dark:text-white shadow-sm focus:border-primary-500 focus:ring focus:ring-primary-500 text-sm"})]})]})})]}),w&&e.jsx("div",{className:"p-3 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-md text-red-700 dark:text-red-400 text-sm",children:w}),l&&e.jsx("div",{className:"flex justify-center py-12",children:e.jsx(z,{})}),a&&!l&&e.jsxs("div",{className:"animate-fade-in space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h2",{className:"text-xl font-medium text-gray-900 dark:text-white",children:"Redirect Trace Results"}),e.jsxs("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:[e.jsx("span",{className:"font-medium",children:"Total Time:"})," ",a.totalTimeMs,"ms |",e.jsx("span",{className:"font-medium ml-2",children:"Hops:"})," ",a.hops.length]})]}),a.warnings.length>0&&e.jsxs("div",{className:"p-3 bg-yellow-50 dark:bg-yellow-900/20 border border-yellow-200 dark:border-yellow-800 rounded-md",children:[e.jsx("h3",{className:"font-medium text-yellow-800 dark:text-yellow-300 mb-1",children:"Warnings"}),e.jsx("ul",{className:"list-disc list-inside text-sm text-yellow-700 dark:text-yellow-400 space-y-1",children:a.warnings.map((r,t)=>e.jsx("li",{children:r.includes("PROTOCOL_DOWNGRADE")?"HTTPS to HTTP downgrade detected":r},t))})]}),e.jsx("div",{className:"bg-white dark:bg-gray-900 overflow-hidden border border-gray-200 dark:border-gray-700 rounded-md shadow",children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-gray-700",children:[e.jsx("thead",{className:"bg-gray-50 dark:bg-gray-800",children:e.jsxs("tr",{children:[e.jsx("th",{scope:"col",className:"px-3 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Hop"}),e.jsx("th",{scope:"col",className:"px-3 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Status"}),e.jsx("th",{scope:"col",className:"px-3 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Method"}),e.jsx("th",{scope:"col",className:"px-3 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"URL"}),e.jsx("th",{scope:"col",className:"px-3 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Latency"})]})}),e.jsx("tbody",{className:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700",children:a.hops.map((r,t)=>e.jsxs("tr",{className:t%2===0?"bg-white dark:bg-gray-900":"bg-gray-50 dark:bg-gray-800",children:[e.jsx("td",{className:"px-3 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-gray-100",children:r.n}),e.jsx("td",{className:"px-3 py-4 whitespace-nowrap text-xs",children:e.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full font-medium ${B(r.status)}`,children:r.status||"Error"})}),e.jsx("td",{className:"px-3 py-4 whitespace-nowrap text-sm text-gray-700 dark:text-gray-300",children:r.method}),e.jsxs("td",{className:"px-3 py-4 text-sm text-gray-700 dark:text-gray-300 font-mono break-all max-w-md",children:[r.url,r.error&&e.jsx("p",{className:"text-xs text-red-500 mt-1",children:r.error})]}),e.jsxs("td",{className:"px-3 py-4 whitespace-nowrap text-sm text-gray-700 dark:text-gray-300",children:[r.latencyMs,"ms"]})]},t))})]})})}),e.jsxs("div",{className:"flex flex-wrap justify-between items-center mt-6 bg-gray-50 dark:bg-gray-800 p-4 rounded-md border border-gray-200 dark:border-gray-700",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"font-medium text-gray-900 dark:text-white",children:"Export Results"}),e.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:"Download or copy trace data in different formats"})]}),e.jsxs("div",{className:"flex space-x-2 mt-3 sm:mt-0",children:[e.jsxs(u,{onClick:W,variant:"light",size:"sm",className:"flex items-center",children:[e.jsx("svg",{className:"w-4 h-4 mr-2",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:e.jsx("path",{d:"M8 5H6C4.89543 5 4 5.89543 4 7V19C4 20.1046 4.89543 21 6 21H16C17.1046 21 18 20.1046 18 19V18M8 5C8 3.89543 8.89543 3 10 3H14C15.1046 3 16 3.89543 16 5V7M8 5V7H16V5M16 10H20M18 8V12",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})}),"JSON"]}),e.jsxs(u,{onClick:D,variant:"light",size:"sm",className:"flex items-center",children:[e.jsx("svg",{className:"w-4 h-4 mr-2",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:e.jsx("path",{d:"M12 10V16M12 16L9 13M12 16L15 13M17 21H7C5.89543 21 5 20.1046 5 19V5C5 3.89543 5.89543 3 7 3H14L19 8V19C19 20.1046 18.1046 21 17 21Z",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})}),"CSV"]}),e.jsxs(u,{onClick:()=>window.open(a.hops[a.hops.length-1].url,"_blank"),variant:"primary",size:"sm",className:"flex items-center",children:[e.jsx("svg",{className:"w-4 h-4 mr-2",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:e.jsx("path",{d:"M10 6H6C4.89543 6 4 6.89543 4 8V18C4 19.1046 4.89543 20 6 20H16C17.1046 20 18 19.1046 18 18V14M14 4H20M20 4V10M20 4L10 14",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})}),"Open URL"]})]})]}),L&&e.jsxs("div",{className:"mt-2 flex items-center justify-center p-2 bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-800 rounded-md text-green-700 dark:text-green-400 text-sm",children:[e.jsx("svg",{className:"w-5 h-5 mr-2",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:e.jsx("path",{d:"M9 12L11 14L15 10M21 12C21 16.9706 16.9706 21 12 21C7.02944 21 3 16.9706 3 12C3 7.02944 7.02944 3 12 3C16.9706 3 21 7.02944 21 12Z",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})}),L]})]})]})}),e.jsx(E,{title:"About URL Redirects",isElevated:!0,children:e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"border border-gray-200 dark:border-gray-700 rounded-md p-3",children:[e.jsx("h3",{className:"font-medium text-gray-900 dark:text-white mb-1",children:"301 Redirect"}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Permanent redirect. The requested resource has been assigned a new permanent URI."})]}),e.jsxs("div",{className:"border border-gray-200 dark:border-gray-700 rounded-md p-3",children:[e.jsx("h3",{className:"font-medium text-gray-900 dark:text-white mb-1",children:"302 Redirect"}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Temporary redirect. The requested resource resides temporarily under a different URI."})]}),e.jsxs("div",{className:"border border-gray-200 dark:border-gray-700 rounded-md p-3",children:[e.jsx("h3",{className:"font-medium text-gray-900 dark:text-white mb-1",children:"307 Redirect"}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Temporary redirect that guarantees the HTTP method won't change in the redirected request."})]}),e.jsxs("div",{className:"border border-gray-200 dark:border-gray-700 rounded-md p-3",children:[e.jsx("h3",{className:"font-medium text-gray-900 dark:text-white mb-1",children:"308 Redirect"}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Permanent redirect that guarantees the HTTP method won't change in the redirected request."})]})]})})]})]})};export{Z as default};
//# sourceMappingURL=LinkTracer-1b851cfd.js.map
