{
  "permissions": {
    "allow": [
      "Bash(ls:*)",
      "Bash(findstr:*)",
      "Bash(npm run build:*)",
      "Bash(git add:*)",
      "Bash(git commit -m \"$\\(cat <<''EOF''\nfeat\\(pdf-to-img\\): Enhance converter with advanced preview, download tracking, and lightbox\n\nImprovements:\n1. Advanced preview with slide-show navigation and zoom controls\n2. Download status tracking with visual indicators \\(checkmarks, spinners\\)\n3. Full-screen image lightbox for click-to-enlarge preview\n4. Modern UX with batch selection and download controls\n5. Memory optimization: remove double conversion \\(dataUrl\\), use only Blob\n\nComponents added:\n- PDFPreviewCarousel: Slide-show preview with arrow navigation, zoom, and page jumper\n- ImageLightbox: Full-screen modal preview with keyboard/touch navigation\n- ImageGridToolbar: Batch controls for selecting and downloading multiple images\n\nUpdates:\n- pdfConverter.ts: Removed dataUrl from ConvertedImage, added DownloadStatus types\n- usePdfToImage.ts: Added download tracking state and actions\n- PdfToImagePanel.tsx: Integrated new components with enhanced UX\n\nMemory improvements:\n- Eliminated redundant toDataURL\\(\\) conversion \\(33% memory savings\\)\n- Canvas blob URLs are now managed centrally\n- Reduced per-image memory footprint for large PDF handling\n\nBuilding blocks for Phase 4 optimizations:\n- Download status foundation for batch processing queue\n- Component architecture ready for streaming conversion pipeline\n\nCo-Authored-By: Claude Haiku 4.5 <noreply@anthropic.com>\nEOF\n\\)\")",
      "Bash(git commit -m \"$\\(cat <<''EOF''\nfeat\\(pdf-to-img\\): Add batch processing queue and memory optimizations\n\nPhase 4 improvements:\n1. Created pdfConversionQueue.ts with intelligent batch processing\n2. Memory-aware processing: detects memory pressure, adapts scale\n3. Automatic batching: process 5 pages at a time by default\n4. Memory estimation: calculates safe batch sizes based on page dimensions\n5. Adaptive batch sizing: recommends batch size based on available memory\n\nMemory optimizations:\n- Page cleanup now uses try-finally for guaranteed resource release\n- Canvas dimensions explicitly floor''d for precise pixel calculations\n- Single blob conversion path \\(no redundant toDataURL\\)\n- Memory usage monitoring with 85% threshold for scaling reduction\n\nFeatures:\n- processPdfInBatches: Async generator for streaming results\n- processPdfInBatchesSync: Simple sync wrapper for all pages\n- estimatePageMemory: Calculate memory requirements per page\n- recommendBatchSize: Intelligent batch sizing based on memory\n- hasVariablePageSizes: Detect mixed portrait/landscape documents\n\nReady for 100MB+ PDF handling:\n- Batch processing prevents memory spikes\n- Adaptive scaling maintains quality while respecting constraints\n- Progressive UI updates as batches complete\n\nCo-Authored-By: Claude Haiku 4.5 <noreply@anthropic.com>\nEOF\n\\)\")",
      "Bash(cd:*)",
      "Bash(xargs ls:*)",
      "Bash(cat:*)"
    ]
  }
}
