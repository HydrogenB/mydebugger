"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[973],{1973:function(e,r,t){t.r(r),t.d(r,{default:function(){return E}});var n,o=t(8307),a=t(29),s=t(4687),i=t.n(s),l=t(7294),c=t(4593),d=t(7812),u=t(9357),g=t(2592);function x(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),t.push.apply(t,n)}return t}function h(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?x(Object(t),!0).forEach(function(r){(0,o.Z)(e,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):x(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})}return e}var m=(n=(0,a.Z)(i().mark(function e(r,t){var n,o;return i().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=t.size,o={errorCorrectionLevel:t.errorCorrection,type:"image/png",width:n,margin:1,color:{dark:t.darkColor,light:t.lightColor}},e.next=5,g.toDataURL(r,o);case 5:return e.abrupt("return",e.sent);case 8:throw e.prev=8,e.t0=e.catch(0),console.error("Error generating QR code:",e.t0),e.t0;case 12:case"end":return e.stop()}},e,null,[[0,8]])})),function(e,r){return n.apply(this,arguments)}),p=function(){try{var e=localStorage.getItem("savedQRCodes");return e?JSON.parse(e):[]}catch(e){return console.error("Error loading saved QR codes:",e),[]}},f=function(e){try{var r=p(),t=[e].concat((0,d.Z)(r));localStorage.setItem("savedQRCodes",JSON.stringify(t))}catch(e){console.error("Error saving QR code:",e)}},b=function(e){try{var r=p().filter(function(r){return r.id!==e});return localStorage.setItem("savedQRCodes",JSON.stringify(r)),r}catch(e){return console.error("Error deleting QR code:",e),p()}},v=function(e,r){try{var t=h(h({},e),{},{showCosmeticOptions:r});localStorage.setItem("qrCosmeticOptions",JSON.stringify(t))}catch(e){console.error("Error saving cosmetic options:",e)}},w=function(){try{var e=localStorage.getItem("qrCosmeticOptions");if(e){var r=JSON.parse(e);return{settings:{size:r.size||256,errorCorrection:r.errorCorrection||"M",darkColor:r.darkColor||"#000000",lightColor:r.lightColor||"#FFFFFF"},showCosmeticOptions:r.showCosmeticOptions||!1}}}catch(e){console.error("Error loading cosmetic options:",e)}return{settings:{size:256,errorCorrection:"M",darkColor:"#000000",lightColor:"#FFFFFF"},showCosmeticOptions:!1}};function y(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),t.push.apply(t,n)}return t}function k(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?y(Object(t),!0).forEach(function(r){(0,o.Z)(e,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):y(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})}return e}var j=function(e){var r=(0,u.TH)(),t=(0,u.s0)(),n=new URLSearchParams(r.search),o=e||n.get("link")||"",s=(0,l.useState)(""),c=s[0],g=s[1],x=(0,l.useState)(""),h=x[0],y=x[1],j=(0,l.useState)({size:256,errorCorrection:"M",darkColor:"#000000",lightColor:"#FFFFFF"}),C=j[0],N=j[1],R=(0,l.useState)(""),S=R[0],L=R[1],O=(0,l.useState)(!1),Q=O[0],M=O[1],E=(0,l.useState)(""),z=E[0],D=E[1],F=(0,l.useState)(!1),P=F[0],U=F[1],I=(0,l.useState)(!1),q=I[0],T=I[1],H=(0,l.useState)([]),G=H[0],Z=H[1],B=(0,l.useState)(!1),A=B[0],V=B[1],J=(0,l.useState)(""),W=J[0],_=J[1],K=(0,l.useState)(!1),X=K[0],Y=K[1],$=(0,l.useCallback)(function(e){g(e)},[]),ee=(0,l.useCallback)(function(e){N(function(r){var t=k(k({},r),e);return v(t,P),t})},[P]),er=(0,l.useCallback)(function(){U(function(e){var r=!e;return v(C,r),r})},[C]),et=(0,l.useCallback)((0,a.Z)(i().mark(function e(){var n;return i().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(c.trim()){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,(n=new URLSearchParams(r.search)).set("link",c),t({search:n.toString()},{replace:!0}),y(c),e.next=9,m(c,C);case 9:L(e.sent),window.history.replaceState(k(k({},window.history.state),{},{qrcode:{link:c}}),"",window.location.href),e.next=18;break;case 14:e.prev=14,e.t0=e.catch(2),console.error("Error generating QR code:",e.t0),ea("Failed to generate QR code");case 18:case"end":return e.stop()}},e,null,[[2,14]])})),[c,C,r.search,t]),en=(0,l.useCallback)(function(){if(S&&h){var e={id:Date.now().toString(),url:h,nickname:W||h.substring(0,30),createdAt:Date.now(),qrCodeUrl:S,settings:k({},C)};f(e),Z(function(r){return[e].concat((0,d.Z)(r))}),V(!1),_(""),ea("QR Code saved successfully")}},[S,h,W,C]),eo=(0,l.useCallback)(function(e){Z(b(e)),ea("QR Code deleted")},[]),ea=(0,l.useCallback)(function(e){D(e),setTimeout(function(){return D("")},3e3)},[]);return(0,l.useEffect)(function(){e=navigator.userAgent||navigator.vendor,T(/android|webos|iphone|ipad|ipod|blackberry|windows phone/i.test(e));var e,r=w(),t=r.settings,n=r.showCosmeticOptions;if(N(t),U(n),Z(p()),o)try{var a=decodeURIComponent(o);try{new URL(a),g(a)}catch(e){g("https://".concat(a))}}catch(e){g(o)}},[o]),(0,l.useEffect)(function(){c&&et()},[c,C,et]),{input:c,encodedLink:h,settings:C,qrCodeUrl:S,isRunningLink:Q,toastMessage:z,showCosmeticOptions:P,isMobile:q,savedQRCodes:G,showSaveModal:A,nickname:W,showLargeQRModal:X,setInput:$,updateSettings:ee,toggleCosmeticOptions:er,generateQRCode:et,saveQRCode:en,deleteQRCode:eo,setShowSaveModal:V,setNickname:_,setShowLargeQRModal:Y,setIsRunningLink:M,showToast:ea}},C=t(5893),N=function(e){var r=e.value,t=e.onChange,n=e.onGenerate,o=e.onToggleOptions,a=e.showOptions;return(0,C.jsxs)("div",{className:"mb-4",children:[(0,C.jsxs)("div",{className:"flex flex-col mb-2",children:[(0,C.jsx)("label",{htmlFor:"qrInput",className:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Enter URL or text to encode"}),(0,C.jsxs)("div",{className:"flex space-x-2",children:[(0,C.jsx)("input",{id:"qrInput",type:"text",value:r,onChange:function(e){return t(e.target.value)},placeholder:"https://example.com or any text",className:"flex-1 px-3 py-2 bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-700 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",onKeyDown:function(e){"Enter"===e.key&&n()}}),(0,C.jsx)("button",{onClick:n,className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white font-medium rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:"Generate"})]})]}),(0,C.jsxs)("button",{onClick:o,className:"flex items-center text-sm text-blue-600 dark:text-blue-400 hover:text-blue-800 dark:hover:text-blue-300 focus:outline-none",children:[(0,C.jsx)("span",{children:a?"Hide options":"Show options"}),(0,C.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 ml-1 transition-transform ".concat(a?"rotate-180":""),fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,C.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]})]})},R=function(e){var r=e.qrCodeUrl,t=e.encodedLink,n=e.onShowLarge,o=e.onSave;return(e.onCopyLink,e.onCopyEncodedLink,e.onCopyImage,e.onDownload,e.onOpenLink,e.onShareLink,e.isRunningLink,r)?(0,C.jsxs)("div",{className:"flex flex-col items-center",children:[(0,C.jsxs)("div",{className:"p-4 bg-white dark:bg-gray-800 rounded-lg shadow-md mb-4 flex flex-col items-center",children:[(0,C.jsx)("img",{src:r,alt:"QR Code",className:"max-w-full cursor-pointer",onClick:n}),(0,C.jsx)("div",{className:"mt-3 w-full max-w-full overflow-hidden",children:(0,C.jsx)("p",{className:"text-sm text-gray-500 dark:text-gray-400 break-all",children:t})})]}),(0,C.jsxs)("div",{className:"flex flex-wrap gap-3 justify-center",children:[(0,C.jsxs)("button",{onClick:o,className:"flex items-center gap-2 px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-md",children:[(0,C.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",viewBox:"0 0 20 20",fill:"currentColor",children:(0,C.jsx)("path",{d:"M7.707 10.293a1 1 0 10-1.414 1.414l3 3a1 1 0 001.414 0l3-3a1 1 0 00-1.414-1.414L11 11.586V6h5a2 2 0 012 2v7a2 2 0 01-2 2H4a2 2 0 01-2-2V8a2 2 0 012-2h5v5.586l-1.293-1.293zM9 4a1 1 0 012 0v2H9V4z"})}),"Save QR Code"]}),(0,C.jsxs)("button",{onClick:function(){var e=window.open();e&&(e.document.write('<img src="'.concat(r,'" alt="QR Code"/>')),e.document.title="QR Code")},className:"flex items-center gap-2 px-4 py-2 bg-gray-200 dark:bg-gray-700 hover:bg-gray-300 dark:hover:bg-gray-600 text-gray-800 dark:text-gray-200 rounded-md",children:[(0,C.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,C.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14"})}),"Open in New Tab"]}),(0,C.jsxs)("a",{href:r,download:"qrcode.png",className:"flex items-center gap-2 px-4 py-2 bg-green-600 hover:bg-green-700 text-white rounded-md",children:[(0,C.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",viewBox:"0 0 20 20",fill:"currentColor",children:(0,C.jsx)("path",{fillRule:"evenodd",d:"M3 17a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zm3.293-7.707a1 1 0 011.414 0L9 10.586V3a1 1 0 112 0v7.586l1.293-1.293a1 1 0 111.414 1.414l-3 3a1 1 0 01-1.414 0l-3-3a1 1 0 010-1.414z",clipRule:"evenodd"})}),"Download"]})]})]}):null},S=function(e){var r=e.settings,t=e.onUpdateSettings,n=r.size,o=r.errorCorrection,a=r.darkColor,s=r.lightColor;return(0,C.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-4 shadow-md mb-4",children:[(0,C.jsx)("h3",{className:"text-sm font-semibold text-gray-700 dark:text-gray-300 mb-3",children:"QR Code Settings"}),(0,C.jsxs)("div",{className:"space-y-4",children:[(0,C.jsxs)("div",{className:"flex flex-col space-y-1",children:[(0,C.jsxs)("div",{className:"flex justify-between",children:[(0,C.jsxs)("label",{htmlFor:"size",className:"text-xs text-gray-600 dark:text-gray-400",children:["Size: ",n,"px"]}),(0,C.jsx)("span",{className:"text-xs text-gray-500",children:n<200?"Small":n<400?"Medium":"Large"})]}),(0,C.jsx)("input",{id:"size",type:"range",min:"128",max:"512",step:"16",value:n,onChange:function(e){return t({size:Number(e.target.value)})},className:"w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer dark:bg-gray-700"})]}),(0,C.jsxs)("div",{className:"flex flex-col space-y-1",children:[(0,C.jsx)("label",{className:"text-xs text-gray-600 dark:text-gray-400",children:"Error Correction Level"}),(0,C.jsx)("div",{className:"grid grid-cols-4 gap-1",children:["L","M","Q","H"].map(function(e){return(0,C.jsx)("button",{onClick:function(){return t({errorCorrection:e})},className:"py-1 text-xs rounded-md ".concat(o===e?"bg-blue-600 text-white":"bg-gray-200 dark:bg-gray-700 text-gray-800 dark:text-gray-300"),children:e},e)})}),(0,C.jsxs)("span",{className:"text-xs text-gray-500 mt-1",children:["L"===o&&"Low - 7% recovery","M"===o&&"Medium - 15% recovery","Q"===o&&"Quartile - 25% recovery","H"===o&&"High - 30% recovery"]})]}),(0,C.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[(0,C.jsxs)("div",{children:[(0,C.jsx)("label",{htmlFor:"darkColor",className:"block text-xs text-gray-600 dark:text-gray-400 mb-1",children:"Dark Color"}),(0,C.jsxs)("div",{className:"flex space-x-2",children:[(0,C.jsx)("input",{id:"darkColor",type:"color",value:a,onChange:function(e){return t({darkColor:e.target.value})},className:"h-8 w-8 rounded border border-gray-300 dark:border-gray-600"}),(0,C.jsx)("input",{type:"text",value:a,onChange:function(e){return t({darkColor:e.target.value})},className:"flex-1 text-xs p-2 bg-gray-50 dark:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded"})]})]}),(0,C.jsxs)("div",{children:[(0,C.jsx)("label",{htmlFor:"lightColor",className:"block text-xs text-gray-600 dark:text-gray-400 mb-1",children:"Light Color"}),(0,C.jsxs)("div",{className:"flex space-x-2",children:[(0,C.jsx)("input",{id:"lightColor",type:"color",value:s,onChange:function(e){return t({lightColor:e.target.value})},className:"h-8 w-8 rounded border border-gray-300 dark:border-gray-600"}),(0,C.jsx)("input",{type:"text",value:s,onChange:function(e){return t({lightColor:e.target.value})},className:"flex-1 text-xs p-2 bg-gray-50 dark:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded"})]})]})]})]})]})},L=function(e){var r=e.savedCodes,t=e.onDelete,n=e.onSelect;return 0===r.length?(0,C.jsx)("div",{className:"text-center py-4",children:(0,C.jsx)("p",{className:"text-gray-500",children:"No saved QR codes yet. Generate and save a QR code to see it here."})}):(0,C.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 mt-2",children:r.map(function(e){return(0,C.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md p-4 border border-gray-200 dark:border-gray-700",children:[(0,C.jsxs)("div",{className:"flex justify-between items-start mb-2",children:[(0,C.jsx)("h3",{className:"text-sm font-medium text-gray-900 dark:text-white truncate",title:e.nickname,children:e.nickname}),(0,C.jsx)("button",{onClick:function(r){r.stopPropagation(),t(e.id)},className:"text-red-500 hover:text-red-700","aria-label":"Delete saved QR code",children:(0,C.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,C.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),(0,C.jsxs)("div",{className:"cursor-pointer",onClick:function(){return n(e)},children:[(0,C.jsx)("div",{className:"flex justify-center mb-2",children:(0,C.jsx)("img",{src:e.qrCodeUrl,alt:"QR Code",className:"h-32 w-32 object-contain"})}),(0,C.jsx)("p",{className:"text-xs text-gray-500 dark:text-gray-400 truncate",title:e.url,children:e.url}),(0,C.jsx)("div",{className:"text-xs text-gray-400 dark:text-gray-500 mt-1",children:new Date(e.createdAt).toLocaleDateString()})]})]},e.id)})})},O=function(e){var r=e.isOpen,t=e.nickname,n=e.onNicknameChange,o=e.onSave,a=e.onClose;return r?(0,C.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,C.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-xl p-6 w-full max-w-md mx-4",children:[(0,C.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,C.jsx)("h3",{className:"text-lg font-medium text-gray-900 dark:text-white",children:"Save QR Code"}),(0,C.jsx)("button",{onClick:a,className:"text-gray-400 hover:text-gray-500 focus:outline-none",children:(0,C.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,C.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),(0,C.jsxs)("div",{className:"mb-4",children:[(0,C.jsx)("label",{htmlFor:"nickname",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Nickname (optional)"}),(0,C.jsx)("input",{id:"nickname",type:"text",value:t,onChange:function(e){return n(e.target.value)},placeholder:"Enter a name to identify this QR code",className:"w-full px-3 py-2 bg-white dark:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",autoFocus:!0})]}),(0,C.jsxs)("div",{className:"flex justify-end space-x-3",children:[(0,C.jsx)("button",{onClick:a,className:"px-4 py-2 text-sm font-medium text-gray-700 dark:text-gray-300 bg-gray-100 dark:bg-gray-700 hover:bg-gray-200 dark:hover:bg-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-500",children:"Cancel"}),(0,C.jsx)("button",{onClick:o,className:"px-4 py-2 text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:"Save"})]})]})}):null},Q=function(e){var r=e.isOpen,t=e.qrCodeUrl,n=e.onClose;return r&&t?(0,C.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-50 p-4",onClick:n,children:(0,C.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-xl p-6 max-w-2xl w-full max-h-[90vh] overflow-auto",onClick:function(e){return e.stopPropagation()},children:[(0,C.jsx)("div",{className:"flex justify-end mb-2",children:(0,C.jsx)("button",{onClick:n,className:"text-gray-400 hover:text-gray-500 focus:outline-none",children:(0,C.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,C.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})}),(0,C.jsx)("div",{className:"flex justify-center",children:(0,C.jsx)("img",{src:t,alt:"Large QR Code",className:"max-w-full max-h-[70vh]"})}),(0,C.jsx)("div",{className:"mt-4 flex justify-center space-x-3",children:(0,C.jsxs)("a",{href:t,download:"qrcode.png",className:"flex items-center gap-2 px-4 py-2 text-white bg-blue-600 hover:bg-blue-700 rounded-md shadow-sm",onClick:function(e){return e.stopPropagation()},children:[(0,C.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:(0,C.jsx)("path",{fillRule:"evenodd",d:"M3 17a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zm3.293-7.707a1 1 0 011.414 0L9 10.586V3a1 1 0 112 0v7.586l1.293-1.293a1 1 0 111.414 1.414l-3 3a1 1 0 01-1.414 0l-3-3a1 1 0 010-1.414z",clipRule:"evenodd"})}),"Download"]})})]})}):null},M=function(e){var r=e.message;return e.isVisible?(0,C.jsx)("div",{className:"fixed bottom-4 left-1/2 transform -translate-x-1/2 bg-gray-800 text-white px-4 py-2 rounded-md shadow-lg z-50 animate-fade-in-up",children:r}):null},E=function(e){var r=e.initialLink,t=(0,l.useRef)(null);(0,l.useRef)(null);var n=j(r),s=n.input,d=n.encodedLink,u=n.settings,g=n.qrCodeUrl,x=n.toastMessage,h=n.showCosmeticOptions,m=n.savedQRCodes,p=n.showSaveModal,f=n.nickname,b=n.showLargeQRModal,v=n.isRunningLink,w=n.isMobile,y=n.setInput,k=n.updateSettings,E=n.toggleCosmeticOptions,z=n.generateQRCode,D=n.saveQRCode,F=n.deleteQRCode,P=n.setShowSaveModal,U=n.setNickname,I=n.setShowLargeQRModal,q=n.setIsRunningLink,T=n.showToast,H=(0,l.useCallback)(function(e,r){try{navigator.clipboard.writeText(e),T(r)}catch(e){console.error("Clipboard error:",e),T("Clipboard access denied. Please update your browser permissions.")}},[T]),G=(0,l.useCallback)(function(){d&&H(d,"Encoded link copied!")},[d,H]),Z=(0,l.useCallback)(function(){s&&H(s,"Link copied!")},[s,H]),B=(0,l.useCallback)((0,a.Z)(i().mark(function e(){var r,t;return i().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(!g||!s)){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,fetch(g);case 5:return e.next=7,e.sent.blob();case 7:if(r=e.sent,!(navigator.clipboard&&"write"in navigator.clipboard)){e.next=15;break}return t=new ClipboardItem((0,o.Z)({},r.type,r)),e.next=12,navigator.clipboard.write([t]);case 12:T("QR image copied to clipboard!"),e.next=17;break;case 15:A(),T("QR image downloaded (copy not supported in this browser)");case 17:e.next=24;break;case 19:e.prev=19,e.t0=e.catch(2),console.error("Error copying QR:",e.t0),A(),T("Image copy failed - downloaded instead");case 24:case"end":return e.stop()}},e,null,[[2,19]])})),[g,s,T]),A=(0,l.useCallback)(function(){if(g&&s){var e=new Image;e.src=g,e.onload=function(){var r=document.createElement("canvas"),t=r.getContext("2d"),n=u.size;if(r.width=n+40,r.height=n+60+20,t){t.fillStyle=u.lightColor,t.fillRect(0,0,r.width,r.height),t.drawImage(e,20,20,n,n),t.font="12px Arial",t.fillStyle="#333333",t.textAlign="center";var o=s.length>50?s.substring(0,47)+"...":s;t.fillText(o,r.width/2,n+40),t.font="10px Arial",t.fillStyle="#666666",t.fillText("Generated with MyDebugger QR Tool",r.width/2,n+40+15);var a=document.createElement("a"),i="qrcode-".concat(s.substring(0,15).replace(/[^a-zA-Z0-9]/g,"-"),".png");a.download=i,a.href=r.toDataURL("image/png"),document.body.appendChild(a),a.click(),document.body.removeChild(a),T("QR code downloaded!")}}}},[g,s,u,T]),V=(0,l.useCallback)(function(){s&&!w&&(q(!0),setTimeout(function(){try{window.location.href=s}catch(e){console.error("Error opening link:",e),T("Error opening link")}setTimeout(function(){return q(!1)},1e3)},10))},[s,w,q,T]),J=(0,l.useCallback)(function(){if(s)try{var e=new URL(window.location.href);e.search="";var r=encodeURIComponent(s);e.searchParams.set("link",r),navigator.clipboard.writeText(e.toString()),T("Shareable link copied! Send to your team.")}catch(e){console.error("Error creating shareable link:",e),T("Error creating shareable link")}},[s,T]);return(0,C.jsxs)("div",{className:"max-w-4xl mx-auto p-4",children:[(0,C.jsxs)(c.q,{children:[(0,C.jsx)("title",{children:"QR Code Generator - MyDebugger"}),(0,C.jsx)("meta",{name:"description",content:"Generate QR codes for URLs or text with customization options"})]}),(0,C.jsxs)("div",{className:"mb-6",children:[(0,C.jsx)("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-2",children:"QR Code Generator"}),(0,C.jsx)("p",{className:"text-gray-600 dark:text-gray-400",children:"Generate QR codes for URLs or any text. Customize size, colors, and error correction level."})]}),(0,C.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,C.jsxs)("div",{children:[(0,C.jsx)(N,{value:s,onChange:y,onGenerate:z,onToggleOptions:E,showOptions:h}),h&&(0,C.jsx)(S,{settings:u,onUpdateSettings:k}),g&&(0,C.jsx)(R,{qrCodeUrl:g,encodedLink:d,onShowLarge:function(){return I(!0)},onSave:function(){return P(!0)},onCopyLink:Z,onCopyEncodedLink:G,onCopyImage:B,onDownload:A,onOpenLink:V,onShareLink:J,isRunningLink:v})]}),(0,C.jsx)("div",{children:(0,C.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md p-4 mb-6",children:[(0,C.jsx)("h2",{className:"text-lg font-semibold text-gray-800 dark:text-white mb-3",children:"Saved QR Codes"}),(0,C.jsx)(L,{savedCodes:m,onDelete:F,onSelect:function(e){y(e.url),k(e.settings)}})]})})]}),(0,C.jsx)("canvas",{ref:t,style:{display:"none"},width:u.size,height:u.size}),(0,C.jsx)(O,{isOpen:p,nickname:f,onNicknameChange:U,onSave:D,onClose:function(){return P(!1)}}),(0,C.jsx)(Q,{isOpen:b,qrCodeUrl:g,onClose:function(){return I(!1)}}),(0,C.jsx)(M,{message:x,isVisible:!!x})]})}}}]);